const email=[];function dataUser_regis_email(){var e=$("#regis_email").DataTable({responsive:!0,select:!0,select:{style:"multi"},ajax:{url:"/user/listado_P",method:"POST"},columnDefs:[{className:"id",targets:[0]},{className:"imagen",targets:[1]},{className:"nombre",targets:[2]},{className:"email",targets:[3]},{className:"recibir",targets:[4]},{className:"creada",targets:[5]}],columns:[{data:"id"},{data:"imagen",sortable:!1,searchable:!1,render:function(e){return 0==e?"N/A":'<img src="'+("/imagenes_usuarios/"+e)+'"/>'}},{data:"nombre",render:function(e,a,t){return t.nombre+" "+t.apellidos}},{data:"email"},{data:"recibir",render:function(e,a,t){return"1"==t.recibir?"Si":"No"}},{data:"creada"}],dom:"Blfrtip",buttons:["selectAll","selectNone",{text:"Enviar email",action:function(e,a,t,i){!async function(){const e=new FormData;e.append("email",email);try{const a="http://localhost:3000/user/enviar_mail";await fetch(a,{method:"POST",body:e})}catch(e){console.log(e)}}()}}],language:idioma});$("#regis_email tbody").on("click","td",(function(){var a=e.row(this);let t=parseInt(a[0]),i=e.cell({row:t,column:3}).data();if(email.includes(i)){const e=email.findIndex(e=>e===i);email.splice(e,1)}else email.push(i),console.log(email)}))}$(document).ready((function(){dataUser_regis_email()}));